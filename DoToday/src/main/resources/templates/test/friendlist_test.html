<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo!Doit!</title>
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" th:href="@{/css/header.css}" />
    <link rel="stylesheet" th:href="@{/css/friendList.css}" />
</head>
<body>
<div class="header">
    <div class="main_logo"><a href="/home">Todo!Doit!</a></div>
    <div class="go_todo_list"><a href="/home">투두 리스트</a></div>
    <div class="go_my_page"><a href="/members/mypage">마이 페이지</a></div>
    <div class="go_friend_page_on"><a href="/friend/list">친구 목록</a></div>
    <div class="logout"><a href="/members/logout">로그아웃</a></div>
</div>
<div class="friendList_container">
    <div class="friendList_title">친구 리스트</div>
    <form id="requestList" th:action="@{'/request/list'}" method="get" class="requestList">
        <input type="hidden" name="userId" th:value="${userId}">
        <input type="submit" value="받은 신청" form="requestList" class="submitButton">
        <div th:if="${rCount} > 0">
            <div th:value="${rCount}"></div>
        </div>
    </form>
    <form id="blockList" th:action="@{'/block/list'}" method="get" class="blockList">
        <input type="hidden" name="userId" th:value="${userId}">
        <input type="submit" value="차단 목록" form="blockList" class="submitButton">
    </form>
    <form id="search" th:action="@{'/request/search'}" method="get" class="friendSearch">
        <input type="hidden" name="userId" th:value="${userId}">
        <input type="submit" value="검색 및 신청" form="search" class="submitButton">
    </form>
    <div th:if="${lCount} > 0" class="friendList">
        <div th:each="flist : ${friendList}" class="friendInfo">
            <div class="img_block">
                <img class="memberImage" th:src="${flist.memberImage}" alt="유저 이미지">
            </div>
            <div class="memberName" th:text="${flist.memberName}"></div>
            <form id="info" th:action="@{'/friend/info'}" method="post" class="friendsInfo">
                <input type="hidden" name="userId" th:value="${userId}">
                <input type="hidden" th:value="${flist.memberId}" name="friendId">
                <input type="submit" value="리스트 보기">
            </form>
            <form id="delete" th:action="@{'/friend/delete'}" method="post" class="deleteFriend">
                <input type="hidden" name="userId" th:value="${userId}">
                <input type="hidden" name="friendId" th:value="${flist.memberId}">
                <input type="submit" value="친구 삭제">
            </form>
        </div><br/>
    </div>
    <div th:if="${lCount} == 0" class="noFriend">
        <p>친구가 없습니다.</p>
    </div>
    <a th:href="@{'/list/todolist'}" class="goBack">리스트로 돌아가기</a>
</div>
</body>
</html>